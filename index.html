<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<body>
<input type="text" class="input">
<button class="button">
    点击去地图
</button>
<div class="one" style="margin-left: 479px;display: none">
    <iframe id="two" style="width: 100%;height: 500px" src="POI选点获取.html" frameborder="0"></iframe>
</div>
</body>

<script>
  var a = document.getElementsByClassName('input');
  var b = document.getElementsByClassName('button');
  var c = document.getElementsByClassName('one');

  b[0].onclick=function () {
      c[0].style.display='block';
      var last='';
      setInterval(function () {
          var op = window.parent.document.getElementById('two').contentWindow.aa;
          if(op.name!=last){
              a[0].value=op.name;
              console.log(op);
              var aa = new XMLHttpRequest();
              aa.open('get','data.json');
              aa.send();
              aa.onreadystatechange=function () {
                  if(aa.readyState==4&&aa.status==200){
                      console.log(aa.responseText);
                  }
              }

          }
          last = op.name;
      },2100);

  }


</script>
</html>